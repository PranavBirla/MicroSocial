<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroSocial - Feed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
/* ===== Custom Scrollbar (Global) ===== */

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: #22c55e transparent;
}

/* Chrome, Edge, Safari */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(34, 197, 94, 0.6);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(34, 197, 94, 0.85);
}
</style>

</head>

<body>
    <div class="main w-full min-h-screen bg-zinc-900 text-white p-10">
        <div class="flex justify-center mb-10 cursor-pointer" href="/">
            <a href="/home"><span class="md:text-5xl text-4xl">Micro</span><span class="md:text-5xl text-4xl text-green-400 font-bold">Social</span></a>
        </div>
        <div class="mb-10 flex flex-col justify-between items-center">
            <div class="flex md:gap-64 items-center justify-between w-full mb-5">
                <a href="/home" class="text-yellow-400 text-xl font-bold transition-all duration-300 ease-out hover:scale-105 hover:brightness-110 active:scale-95">Home</a>
                <a href="/profile" class="text-zinc-400 text-xl font-semibold"><%= user.name %></a>
            </div>
            
            <span class="flex w-full justify-start text-green-400 md:text-3xl text-2xl font-bold">Your Feed</span>
        </div>

        <div class="postContainer flex flex-col gap-4 md:items-start items-center">
            <% posts.forEach(function(post){ %>
                <div class="post md:w-1/3 w-[80%] p-4 rounded-md border-2 border-zinc-700 bg-zinc-800">
                    <h4 class="text-green-400 font-bold mb-3">@<%= post.user.username %>
                    </h4>
                    <p class="tracking-tight text-zinc-300">
                        <%= post.content %>
                    </p>
                    <small class="">
                        <%= post.likes.length %> â™¥
                    </small>
                    <div class="btns">
                        <a class="text-pink-600 mt-3" href="/like/<%= post._id %>?from=feed">
                            <%= post.likes.indexOf(currentUser.userid)===-1 ? "Like" : "Unlike" %>
                        </a>
                    </div>
                </div>
                <% }) %>
        </div>
    </div>
</body>

</html>